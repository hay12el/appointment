{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"label\", \"icon\", \"isPassword\", \"hidePassword\", \"setHidePassword\", \"isDate\", \"showDatePicker\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { StatusBar } from \"expo-status-bar\";\nimport React from \"react\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Formik, Form, Field } from \"formik\";\nimport { StyledContainer, InnerContainer, PageLogo, PageTitle, SubTitle, StyledFormArea, LeftIcon, StyledInputLabel, StyledTextInput, RightIcon, colors, StyledButton, ButtonText, Line, ExtraText, ExtraView, TextLink, TextLinkContent } from \"../components/styles\";\nimport View from \"react-native-web/dist/exports/View\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport client from \"../api/client\";\nimport { UserContext } from \"../contexts/userContexts\";\nvar brand = Colors.brand,\n    derLight = Colors.derLight,\n    primary = Colors.primary;\nimport { Octicons, Ionicons } from '@expo/vector-icons';\nimport { Colors } from \"react-native/Libraries/NewAppScreen\";\nimport { useState, useContext } from \"react\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport * as yup from 'yup';\nimport \"yup-phone\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar validationSchema = yup.object().shape({\n  name: yup.string().required('הכניסי שם').min(3, 'לא מספיק אותיות בשם!'),\n  email: yup.string().email('אימייל לא חוקי').required('Required'),\n  password: yup.string().min(6, 'סיסמא חייבת להכיל 6 תוים לפחות').required('הכניסי סיסמא'),\n  confirmPassword: yup.string().oneOf([yup.ref('password')], 'אימות סיסמא אינו תואם').required('הכניסי אימות סיסמא'),\n  phone: yup.string().required('הכניסי מספר פלאפון')\n});\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useContext = useContext(UserContext),\n      Login = _useContext.Login;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hidePassword = _useState2[0],\n      setHidePassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState(new Date(1598051730000)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      date = _useState6[0],\n      setDate = _useState6[1];\n\n  var _useState7 = useState(new Date(1598051730000)),\n      _useState8 = _slicedToArray(_useState7, 2),\n      dob = _useState8[0],\n      setDob = _useState8[1];\n\n  var onChange = function onChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setShow(false);\n    setDate(currentDate);\n    console.log(currentDate);\n    setDob(currentDate);\n  };\n\n  var showDatePicker = function showDatePicker() {\n    setShow('true');\n  };\n\n  var signup = function signup(values, formikActions) {\n    var res;\n    return _regeneratorRuntime.async(function signup$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(client.post('/users/register', {\n              \"username\": values.name,\n              \"email\": values.email,\n              \"password\": values.password,\n              \"birthDay\": dob,\n              \"phone\": values.phone\n            }, {\n              headers: {\n                'Content-Type': 'application/json'\n              }\n            }).then(function _callee(response) {\n              var newUser;\n              return _regeneratorRuntime.async(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', response.data.token));\n\n                    case 2:\n                      newUser = response.data.user;\n                      Login(newUser._id, newUser.username, newUser.email, newUser.phone, newUser.queues);\n\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, null, null, null, Promise);\n            }).catch(function (err) {\n              console.log(err);\n            }));\n\n          case 2:\n            res = _context2.sent;\n\n          case 3:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsx(SafeAreaView, {\n    style: {\n      flex: 1,\n      paddingTop: Platform.OS === \"android\" ? 25 : 0\n    },\n    children: _jsx(ScrollView, {\n      children: _jsxs(StyledContainer, {\n        children: [_jsx(StatusBar, {\n          style: \"dark\"\n        }), _jsxs(InnerContainer, {\n          children: [_jsx(PageLogo, {\n            resizeMode: \"cover\",\n            source: require(\"./../assets/lak.jpeg\")\n          }), _jsx(PageTitle, {\n            children: \"\\u05E8\\u05D7\\u05DC \\u05E6\\u05D9\\u05E4\\u05D5\\u05E8\\u05E0\\u05D9\\u05D9\\u05DD\"\n          }), show && _jsx(DateTimePicker, {\n            testID: \"dateTimePicker\",\n            value: date,\n            mode: \"date\",\n            is24Hour: true,\n            display: \"default\",\n            onChange: onChange\n          }), _jsx(Formik, {\n            initialValues: {\n              name: '',\n              dateOfBirth: Date,\n              email: '',\n              phone: '',\n              password: '',\n              confirmPassword: ''\n            },\n            validationSchema: validationSchema,\n            onSubmit: signup,\n            children: function children(_ref2) {\n              var handleChange = _ref2.handleChange,\n                  handleBlur = _ref2.handleBlur,\n                  handleSubmit = _ref2.handleSubmit,\n                  values = _ref2.values,\n                  errors = _ref2.errors,\n                  touched = _ref2.touched;\n              return _jsxs(StyledFormArea, {\n                children: [_jsx(MyTextInput, {\n                  label: \"\\u05E9\\u05DD \\u05DE\\u05DC\\u05D0\",\n                  icon: \"person\",\n                  placeholder: \"\\u05E9\\u05DD\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('name'),\n                  onBlur: handleBlur('name'),\n                  value: values.name\n                }), _jsx(MyTextInput, {\n                  label: \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA \\u05DC\\u05D9\\u05D3\\u05D4\",\n                  icon: \"calendar\",\n                  placeholder: \"YYYY - MM - DD\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('dateOfBirth'),\n                  onBlur: handleBlur('dateOfBirth'),\n                  value: dob ? dob.toDateString() : '',\n                  isDate: true,\n                  editable: false,\n                  showDatePicker: showDatePicker\n                }), _jsx(MyTextInput, {\n                  label: \"\\u05DB\\u05EA\\u05D5\\u05D1\\u05EA \\u05DE\\u05D9\\u05D9\\u05DC\",\n                  icon: \"mail\",\n                  placeholder: \"\\u05D0\\u05D9\\u05DE\\u05D9\\u05D9\\u05DC\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('email'),\n                  onBlur: handleBlur('email'),\n                  value: values.email,\n                  keboardType: \"email-address\"\n                }), _jsx(MyTextInput, {\n                  label: \"\\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",\n                  icon: \"broadcast\",\n                  placeholder: \"\\u05DE\\u05E1\\u05E4\\u05E8 \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('phone'),\n                  onBlur: handleBlur('phone'),\n                  value: values.phone,\n                  keboardType: \"phone\"\n                }), _jsx(MyTextInput, {\n                  label: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n                  icon: \"lock\",\n                  placeholder: \"\\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('password'),\n                  onBlur: handleBlur('password'),\n                  value: values.password,\n                  secureTextEntry: hidePassword,\n                  isPassword: hidePassword,\n                  hidePassword: hidePassword,\n                  setHidePassword: setHidePassword\n                }), _jsx(MyTextInput, {\n                  label: \"\\u05D0\\u05D9\\u05DE\\u05D5\\u05EA \\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n                  icon: \"lock\",\n                  placeholder: \"\\u05D0\\u05D9\\u05DE\\u05D5\\u05EA \\u05E1\\u05D9\\u05E1\\u05DE\\u05D0\",\n                  placeholderTextColor: derLight,\n                  onChangeText: handleChange('confirmPassword'),\n                  onBlur: handleBlur('confirmPassword'),\n                  value: values.confirmPassword,\n                  secureTextEntry: hidePassword,\n                  isPassword: hidePassword,\n                  hidePassword: hidePassword,\n                  setHidePassword: setHidePassword\n                }), _jsx(StyledButton, {\n                  children: _jsx(ButtonText, {\n                    onPress: handleSubmit,\n                    children: \"\\u05D4\\u05E8\\u05E9\\u05DE\\u05D9\"\n                  })\n                }), _jsx(Line, {}), _jsxs(ExtraView, {\n                  children: [_jsx(TextLinkContent, {\n                    onPress: function onPress() {\n                      return navigation.navigate(\"Login\");\n                    },\n                    children: \" \\u05D4\\u05EA\\u05D7\\u05D1\\u05E8\\u05D9 \"\n                  }), _jsx(ExtraText, {\n                    children: \"\\u05DB\\u05D1\\u05E8 \\u05D9\\u05E9 \\u05DC\\u05DA \\u05D7\\u05E9\\u05D1\\u05D5\\u05DF?\"\n                  }), _jsx(TextLink, {})]\n                }), _jsx(Text, {\n                  style: styles.error,\n                  children: touched.name && errors.name\n                }), _jsx(Text, {\n                  style: styles.error,\n                  children: touched.phone && errors.phone\n                }), _jsx(Text, {\n                  style: styles.error,\n                  children: touched.password && errors.password\n                }), _jsx(Text, {\n                  style: styles.error,\n                  children: touched.email && errors.email\n                }), _jsx(Text, {\n                  style: styles.error,\n                  children: touched.confirmPassword && errors.confirmPassword\n                })]\n              });\n            }\n          })]\n        })]\n      })\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  error: {\n    textAlign: 'center',\n    fontSize: 16,\n    color: 'red'\n  }\n});\n\nvar MyTextInput = function MyTextInput(_ref3) {\n  var label = _ref3.label,\n      icon = _ref3.icon,\n      isPassword = _ref3.isPassword,\n      hidePassword = _ref3.hidePassword,\n      setHidePassword = _ref3.setHidePassword,\n      isDate = _ref3.isDate,\n      showDatePicker = _ref3.showDatePicker,\n      props = _objectWithoutProperties(_ref3, _excluded);\n\n  return _jsxs(View, {\n    children: [_jsx(LeftIcon, {\n      children: _jsx(Octicons, {\n        name: icon,\n        size: 30,\n        color: brand\n      })\n    }), _jsx(StyledInputLabel, {\n      children: label\n    }), !isDate && _jsx(StyledTextInput, _objectSpread({}, props)), isDate && _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return showDatePicker();\n      },\n      children: _jsx(StyledTextInput, _objectSpread({}, props))\n    }), isPassword && _jsx(RightIcon, {\n      onPress: function onPress() {\n        return setHidePassword(!hidePassword);\n      },\n      children: _jsx(Ionicons, {\n        size: 30,\n        color: derLight,\n        name: hidePassword ? 'md-eye-off' : 'md-eye'\n      })\n    })]\n  });\n};\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/hay12/OneDrive/שולחן העבודה/the/client/screens/SignUp.js"],"names":["StatusBar","React","Formik","Form","Field","StyledContainer","InnerContainer","PageLogo","PageTitle","SubTitle","StyledFormArea","LeftIcon","StyledInputLabel","StyledTextInput","RightIcon","colors","StyledButton","ButtonText","Line","ExtraText","ExtraView","TextLink","TextLinkContent","DateTimePicker","client","UserContext","brand","Colors","derLight","primary","Octicons","Ionicons","useState","useContext","AsyncStorage","yup","validationSchema","object","shape","name","string","required","min","email","password","confirmPassword","oneOf","ref","phone","SignUp","navigation","Login","hidePassword","setHidePassword","show","setShow","Date","date","setDate","dob","setDob","onChange","event","selectedDate","currentDate","console","log","showDatePicker","signup","values","formikActions","post","headers","then","response","setItem","data","token","newUser","user","_id","username","queues","catch","err","res","flex","paddingTop","Platform","OS","require","dateOfBirth","handleChange","handleBlur","handleSubmit","errors","touched","toDateString","navigate","styles","error","StyleSheet","create","textAlign","fontSize","color","MyTextInput","label","icon","isPassword","isDate","props"],"mappings":"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","sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport React from \"react\";\r\nimport { ScrollView , TouchableOpacity, SafeAreaView,StyleSheet , Text, Platform} from \"react-native\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport {\r\n    StyledContainer,\r\n    InnerContainer,\r\n    PageLogo,\r\n    PageTitle,\r\n    SubTitle,\r\n    StyledFormArea,\r\n    LeftIcon,\r\n    StyledInputLabel,\r\n    StyledTextInput,\r\n    RightIcon,\r\n    colors,\r\n    StyledButton,\r\n    ButtonText,\r\n    Line,\r\n    ExtraText,\r\n    ExtraView,\r\n    TextLink,\r\n    TextLinkContent\r\n} from '../components/styles'\r\nimport {View} from 'react-native';\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\nimport client from \"../api/client\";\r\nimport {UserContext} from \"../contexts/userContexts\"\r\n\r\nconst {brand, derLight, primary} = Colors;\r\n\r\nimport {Octicons, Ionicons} from '@expo/vector-icons';\r\nimport { Colors } from \"react-native/Libraries/NewAppScreen\";\r\nimport { useState, useContext } from \"react\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport * as yup from 'yup';\r\nimport \"yup-phone\";\r\n\r\n\r\n\r\nconst validationSchema = yup.object().shape({\r\n    name: yup.string()\r\n                .required('הכניסי שם')\r\n                .min(3, 'לא מספיק אותיות בשם!'),\r\n    email: yup.string()\r\n                .email('אימייל לא חוקי')\r\n                .required('Required'),\r\n    password: yup.string()\r\n                .min(6, 'סיסמא חייבת להכיל 6 תוים לפחות')\r\n                .required('הכניסי סיסמא'),\r\n    confirmPassword:yup.string()\r\n                .oneOf([yup.ref('password')], 'אימות סיסמא אינו תואם')\r\n                .required('הכניסי אימות סיסמא'),\r\n    phone: yup.string().required('הכניסי מספר פלאפון')\r\n});\r\n\r\nconst SignUp = ({navigation}) => {\r\n    const {Login} = useContext(UserContext);\r\n    const [hidePassword, setHidePassword] = useState(true);\r\n    const [show, setShow] = useState(false);\r\n    const [date, setDate] = useState(new Date(1598051730000));\r\n    const [dob, setDob] = useState(new Date(1598051730000));\r\n\r\n    const onChange = (event, selectedDate) => {\r\n        const currentDate = selectedDate || date;\r\n        setShow(false);\r\n        setDate(currentDate);\r\n        console.log(currentDate);\r\n        setDob(currentDate);\r\n    }\r\n\r\n    const showDatePicker = () => {\r\n        setShow('true');\r\n    }\r\n\r\n    const signup = async (values, formikActions) => {\r\n        const res = await client.post('/users/register',{\r\n            \"username\": values.name,\r\n            \"email\": values.email,\r\n            \"password\": values.password,\r\n            \"birthDay\": dob,\r\n            \"phone\": values.phone\r\n        }, {\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        }\r\n        }).then(async (response) => {\r\n            await AsyncStorage.setItem('token', response.data.token);\r\n            const newUser = response.data.user;\r\n            Login(newUser._id, newUser.username, newUser.email, newUser.phone, newUser.queues);\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style={{flex:1,paddingTop: Platform.OS === \"android\" ? 25 : 0}}>\r\n\r\n        <ScrollView>\r\n\r\n        <StyledContainer>\r\n            <StatusBar style=\"dark\" />\r\n            <InnerContainer>\r\n                <PageLogo resizeMode=\"cover\" source = {require('./../assets/lak.jpeg')}/>\r\n                <PageTitle>רחל ציפורניים</PageTitle>\r\n                {show && (\r\n                    <DateTimePicker\r\n                    testID=\"dateTimePicker\"\r\n                    value={date}\r\n                    mode='date'\r\n                    is24Hour={true}\r\n                    display=\"default\"\r\n                    onChange={onChange}\r\n                    />\r\n                    )}\r\n                <Formik\r\n                    initialValues={{name: '',dateOfBirth: Date ,email: '',phone: '', password:'', confirmPassword:''}}\r\n                    validationSchema={validationSchema}\r\n                    onSubmit={signup}\r\n                    >{({handleChange, handleBlur, handleSubmit, values, errors, touched}) => (\r\n                        <StyledFormArea>\r\n                        <MyTextInput \r\n                            label=\"שם מלא\"\r\n                            icon = \"person\"\r\n                            placeholder=\"שם\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('name')}\r\n                            onBlur={handleBlur('name')}\r\n                            value={values.name}\r\n                            />\r\n                           \r\n                        <MyTextInput \r\n                            label=\"תאריך לידה\"\r\n                            icon = \"calendar\"\r\n                            placeholder=\"YYYY - MM - DD\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('dateOfBirth')}\r\n                            onBlur={handleBlur('dateOfBirth')}\r\n                            value={dob ? dob.toDateString() : ''}\r\n                            isDate ={true}\r\n                            editable ={false}\r\n                            showDatePicker={showDatePicker}\r\n                            /> \r\n                        <MyTextInput \r\n                            label=\"כתובת מייל\"\r\n                            icon = \"mail\"\r\n                            placeholder=\"אימייל\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('email')}\r\n                            onBlur={handleBlur('email')}\r\n                            value={values.email}\r\n                            keboardType=\"email-address\"\r\n                            />\r\n                           \r\n                        <MyTextInput \r\n                            label=\"טלפון\"\r\n                            icon = \"broadcast\"\r\n                            placeholder=\"מספר טלפון\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('phone')}\r\n                            onBlur={handleBlur('phone')}\r\n                            value={values.phone}\r\n                            keboardType=\"phone\"\r\n                            />\r\n                            \r\n                        <MyTextInput \r\n                            label=\"סיסמא\"\r\n                            icon = \"lock\"\r\n                            placeholder=\"סיסמא\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('password')}\r\n                            onBlur={handleBlur('password')}\r\n                            value={values.password}\r\n                            secureTextEntry={hidePassword}\r\n                            isPassword={hidePassword}\r\n                            hidePassword={hidePassword}\r\n                            setHidePassword={setHidePassword}\r\n                            />\r\n                        <MyTextInput \r\n                            label=\"אימות סיסמא\"\r\n                            icon = \"lock\"\r\n                            placeholder=\"אימות סיסמא\"\r\n                            placeholderTextColor={derLight}\r\n                            onChangeText={handleChange('confirmPassword')}\r\n                            onBlur={handleBlur('confirmPassword')}\r\n                            value={values.confirmPassword}\r\n                            secureTextEntry={hidePassword}\r\n                            isPassword={hidePassword}\r\n                            hidePassword={hidePassword}\r\n                            setHidePassword={setHidePassword}\r\n                        />\r\n                        \r\n                        <StyledButton>\r\n                            <ButtonText onPress={handleSubmit}>\r\n                                הרשמי\r\n                            </ButtonText>\r\n                        </StyledButton>\r\n                        <Line/>\r\n\r\n                        <ExtraView>\r\n                            <TextLinkContent onPress={ () => navigation.navigate(\"Login\")}> התחברי </TextLinkContent>\r\n                            <ExtraText>\r\n                                כבר יש לך חשבון?\r\n                            </ExtraText>\r\n                            <TextLink>\r\n                            </TextLink>\r\n                        </ExtraView>\r\n\r\n                        <Text style={styles.error}>{touched.name && errors.name}</Text>\r\n                        <Text style={styles.error}>{touched.phone && errors.phone}</Text>\r\n                        <Text style={styles.error}>{touched.password && errors.password}</Text>\r\n                        <Text style={styles.error}>{touched.email && errors.email}</Text>\r\n                        <Text style={styles.error}>{touched.confirmPassword && errors.confirmPassword}</Text>\r\n\r\n                    </StyledFormArea>\r\n                )}\r\n\r\n\r\n                </Formik>\r\n            </InnerContainer>\r\n        </StyledContainer>\r\n    </ScrollView>\r\n    </SafeAreaView>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    error: {\r\n        textAlign: 'center',\r\n        fontSize: 16,\r\n        color: 'red'\r\n    }\r\n})\r\n\r\nconst MyTextInput = ({label, icon, isPassword, hidePassword,\r\n    setHidePassword, isDate, showDatePicker, ...props}) => {\r\n    return (\r\n        <View>\r\n            <LeftIcon>\r\n                <Octicons name={icon} size={30} color= {brand} />\r\n            </LeftIcon>\r\n            <StyledInputLabel>{label}</StyledInputLabel>\r\n            {!isDate && <StyledTextInput {...props} />}\r\n            {isDate && <TouchableOpacity onPress={() => showDatePicker()}>\r\n                <StyledTextInput {...props} />\r\n                </TouchableOpacity>}\r\n            {isPassword && (\r\n\r\n                <RightIcon onPress={()=> setHidePassword(!hidePassword)}>\r\n                    <Ionicons size={30} color={derLight} name={hidePassword ? 'md-eye-off' : 'md-eye'}/>\r\n                </RightIcon>\r\n            )}\r\n        </View>\r\n    )\r\n};\r\n\r\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}